<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Android Study Jam, Lesson 5</title><meta name="generator" content="Hovercraft! 1.0 http://regebro.github.com/hovercraft"></meta><meta name="author" content="Mario Bodemann"></meta><link rel="stylesheet" href="css/hovercraft.css" media="all"></link><link rel="stylesheet" href="css/impressConsole.css" media="all"></link><link rel="stylesheet" href="css/highlight.css" media="all"></link><link rel="stylesheet" href="lesson5.css" media="screen,projection"></link></head><body class="impress-not-supported"><div id="impress"><div class="step" step="0" data-x="0" data-y="0" data-z="0" data-rotate-y="0"><div class="main-title"><p>Android Study Jam: Lesson 5</p></div><div class="main-subtitle"><p>Rich and Responsive Layouts</p></div><img src="images/android_robot_200.png" alt="" width="" height="700"></img></div><div class="step" step="1" data-x="800" data-y="200" data-z="-1000" data-rotate-y="72"><h1 id="thanks-to">Thanks to</h1><img src="images/thoughtworks-logo.png" alt="" width="" height=""></img><h1 id="for-this-space">for this space</h1></div><div class="step" step="2" data-x="400" data-y="400" data-z="-1400" data-rotate-y="144"><h1 id="drinks-toilet">&#x2190; Drinks/Toilet</h1></div><div class="step" step="3" data-x="-400" data-y="600" data-z="-1400" data-rotate-y="216"><h1 id="wifi-password">WiFi password &#x2192;</h1></div><div class="step" step="4" data-x="-800" data-y="800" data-z="-1000" data-rotate-y="288"><h1 id="hi-my-name-is-mario-and-who-are-you">Hi, my name is <em>Mario</em>, and who are <em>you</em>?</h1></div><div class="step new-section" step="5" data-rotate-y="359" data-x="0" data-y="1200" data-z="0"><h1 id="lesson-4">Lesson 4</h1><h2 id="database-content-provider-resolver-and-loader">Database, Content Provider, Resolver and Loader</h2></div><div class="step" step="6" data-x="1400" data-y="1200" data-z="r0" data-rotate-y="360"><h1 id="summary">Summary</h1><img src="images/lesson4-summary.png" alt="" width="1000px" height=""></img></div><div class="step" step="7" data-x="2800" data-y="1200" data-z="r0" data-rotate-y="360"><h1 id="sqlite">Sqlite</h1><img src="images/lesson4-databases.jpg" alt="" width="" height=""></img></div><div class="step" step="8" data-x="4200" data-y="1200" data-z="r0" data-rotate-y="360"><h1 id="provider">Provider</h1><img src="images/lesson4-content-provider-step-0.png" alt="" width="" height=""></img></div><div class="step" step="9" data-x="5600" data-y="1200" data-z="r0" data-rotate-y="360"><img src="images/lesson4-content-provider-step-2.png" alt="" width="" height=""></img></div><div class="step" step="10" data-x="7000" data-y="1200" data-z="r0" data-rotate-y="360"><img src="images/lesson4-content-provider-step-1.png" alt="" width="" height=""></img></div><div class="step" step="11" data-x="8400" data-y="1200" data-z="r0" data-rotate-y="360"><img src="images/lesson4-content-provider-step-3.png" alt="" width="" height=""></img></div><div class="step" step="12" data-x="9800" data-y="1200" data-z="r0" data-rotate-y="360"><h1 id="loader">Loader</h1><img src="images/lesson4-loader.png" alt="" width="" height=""></img></div><div class="step new-section" step="13" data-rotate-y="0" data-x="11200" data-y="1200" data-z="r0"><h1 id="lesson-5">Lesson 5</h1><h2 id="rich-and-responsive-layouts">Rich and Responsive Layouts</h2></div><div class="step" step="14" data-x="12600" data-y="1200" data-z="r0"><img src="images/01-question.jpg" alt="" width="" height=""></img><p>Answer: <em>Sunshine</em></p></div><div class="step" step="15" data-x="14000" data-y="1200" data-z="r0"><img src="images/02-question.jpg" alt="" width="" height=""></img></div><div class="step code-slide" step="16" data-x="15400" data-y="1200" data-z="r0"><pre class="highlight code java"><span class="o">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="o">=</span><span class="s">"1.0"</span> <span class="n">encoding</span><span class="o">=</span><span class="s">"utf-8"</span><span class="o">?&gt;</span>
<span class="o">&lt;</span><span class="n">LinearLayout</span>
  <span class="n">xmlns</span><span class="o">:</span><span class="n">android</span><span class="o">=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
  <span class="n">xmlns</span><span class="o">:</span><span class="n">tools</span><span class="o">=</span><span class="s">"http://schemas.android.com/tools"</span>
  <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"match_parent"</span>
  <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"wrap_content"</span>
  <span class="n">android</span><span class="o">:</span><span class="n">minHeight</span><span class="o">=</span><span class="s">"?attr/listPreferredItemHeight"</span>
  <span class="o">&gt;</span>

  <span class="o">&lt;</span><span class="n">ImageView</span>
      <span class="n">android</span><span class="o">:</span><span class="n">id</span><span class="o">=</span><span class="s">"@+id/forecast_item_image"</span>
      <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"wrap_content"</span>
      <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"wrap_content"</span>
      <span class="n">android</span><span class="o">:</span><span class="n">layout_gravity</span><span class="o">=</span><span class="s">"center"</span>
      <span class="n">android</span><span class="o">:</span><span class="n">contentDescription</span><span class="o">=</span><span class="s">"@null"</span>
      <span class="n">android</span><span class="o">:</span><span class="n">padding</span><span class="o">=</span><span class="s">"10dp"</span>
      <span class="n">tools</span><span class="o">:</span><span class="n">src</span><span class="o">=</span><span class="s">"@android:drawable/star_big_on"</span>
      <span class="o">/&gt;</span></pre></div><div class="step" step="17" data-x="15100" data-y="1500" data-rotate-y="-60" data-scale=".2" data-z="r0"></div><div class="step" step="18" data-scale="1" data-x="15400" data-y="1200" data-rotate-y="0" data-z="r0"></div><div class="step code-slide" step="19" data-x="16800" data-y="1200" data-z="r0" data-scale="1"><pre class="highlight code java"><span class="o">&lt;</span><span class="n">LinearLayout</span>
    <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"0dp"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"wrap_content"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">layout_gravity</span><span class="o">=</span><span class="s">"center"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">layout_weight</span><span class="o">=</span><span class="s">"1"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">gravity</span><span class="o">=</span><span class="s">"center"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">orientation</span><span class="o">=</span><span class="s">"vertical"</span>
    <span class="o">/&gt;</span></pre></div><div class="step code-slide" step="20" data-x="18200" data-y="1200" data-z="r0" data-scale="1"><pre class="highlight code java">    <span class="o">&lt;</span><span class="n">TextView</span>
        <span class="n">android</span><span class="o">:</span><span class="n">id</span><span class="o">=</span><span class="s">"@+id/forecast_item_date"</span>
        <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"wrap_content"</span>
        <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"wrap_content"</span>
        <span class="n">android</span><span class="o">:</span><span class="n">layout_centerHorizontal</span><span class="o">=</span><span class="s">"true"</span>
        <span class="n">tools</span><span class="o">:</span><span class="n">text</span><span class="o">=</span><span class="s">"tomorrow"</span>
        <span class="o">/&gt;</span>

    <span class="o">&lt;</span><span class="n">TextView</span>
        <span class="n">android</span><span class="o">:</span><span class="n">id</span><span class="o">=</span><span class="s">"@+id/forecast_item_summary"</span>
        <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"wrap_content"</span>
        <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"wrap_content"</span>
        <span class="n">tools</span><span class="o">:</span><span class="n">text</span><span class="o">=</span><span class="s">"might be weather"</span>
        <span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">LinearLayout</span><span class="o">&gt;</span></pre></div><div class="step code-slide" step="21" data-x="19600" data-y="1200" data-z="r0" data-scale="1"><h1 id="rinse-and-repeat">Rinse and repeat</h1><pre class="highlight code java"><span class="o">&lt;</span><span class="n">LinearLayout</span>
    <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"wrap_content"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"wrap_content"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">layout_gravity</span><span class="o">=</span><span class="s">"center"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">gravity</span><span class="o">=</span><span class="s">"center"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">orientation</span><span class="o">=</span><span class="s">"vertical"</span>
    <span class="o">&gt;</span></pre></div><div class="step code-slide" step="22" data-x="21000" data-y="1200" data-z="r0" data-scale="1"><pre class="highlight code java">      <span class="o">&lt;</span><span class="n">TextView</span>
          <span class="n">android</span><span class="o">:</span><span class="n">id</span><span class="o">=</span><span class="s">"@+id/forecast_item_temperature_max"</span>
          <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"wrap_content"</span>
          <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"wrap_content"</span>
          <span class="n">android</span><span class="o">:</span><span class="n">gravity</span><span class="o">=</span><span class="s">"center"</span>
          <span class="n">tools</span><span class="o">:</span><span class="n">text</span><span class="o">=</span><span class="s">"45 &#x2103;"</span>
          <span class="o">/&gt;</span>

      <span class="o">&lt;</span><span class="n">TextView</span>
          <span class="n">android</span><span class="o">:</span><span class="n">id</span><span class="o">=</span><span class="s">"@+id/forecast_item_temperature_min"</span>
          <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"wrap_content"</span>
          <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"wrap_content"</span>
          <span class="n">android</span><span class="o">:</span><span class="n">gravity</span><span class="o">=</span><span class="s">"center"</span>
          <span class="n">tools</span><span class="o">:</span><span class="n">text</span><span class="o">=</span><span class="s">"10 &#x2103;"</span>
          <span class="o">/&gt;</span>
  <span class="o">&lt;/</span><span class="n">LinearLayout</span><span class="o">&gt;</span>

<span class="o">&lt;/</span><span class="n">LinearLayout</span><span class="o">&gt;</span></pre></div><div class="step" step="23" data-x="22400" data-y="1200" data-z="r0" data-scale="1"><img src="images/03-question.jpg" alt="" width="" height=""></img></div><div class="step code-slide" step="24" data-x="23800" data-y="1200" data-z="r0" data-scale="1"><pre class="highlight code java"><span class="o">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="o">=</span><span class="s">"1.0"</span> <span class="n">encoding</span><span class="o">=</span><span class="s">"utf-8"</span><span class="o">?&gt;</span>
<span class="o">&lt;</span><span class="n">LinearLayout</span> <span class="n">xmlns</span><span class="o">:</span><span class="n">android</span><span class="o">=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
  <span class="n">xmlns</span><span class="o">:</span><span class="n">tools</span><span class="o">=</span><span class="s">"http://schemas.android.com/tools"</span>
  <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"match_parent"</span>
  <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"wrap_content"</span>
  <span class="n">android</span><span class="o">:</span><span class="n">gravity</span><span class="o">=</span><span class="s">"center"</span>
  <span class="n">android</span><span class="o">:</span><span class="n">minHeight</span><span class="o">=</span><span class="s">"150dp"</span><span class="o">&gt;</span> <span class="o">&lt;!--</span> <span class="n">make</span> <span class="n">it</span> <span class="n">bigger</span> <span class="o">--&gt;</span></pre></div><div class="step code-slide" step="25" data-x="25200" data-y="1200" data-z="r0" data-scale="1"><pre class="highlight code java"><span class="o">&lt;!--</span> <span class="o">...</span> <span class="o">--&gt;</span>
     <span class="o">&lt;</span><span class="n">TextView</span>
         <span class="n">android</span><span class="o">:</span><span class="n">id</span><span class="o">=</span><span class="s">"@+id/forecast_item_date"</span>
         <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"wrap_content"</span>
         <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"wrap_content"</span>
         <span class="n">tools</span><span class="o">:</span><span class="n">text</span><span class="o">=</span><span class="s">"tomorrow"</span> <span class="o">/&gt;</span>

     <span class="o">&lt;</span><span class="n">TextView</span>
         <span class="n">android</span><span class="o">:</span><span class="n">id</span><span class="o">=</span><span class="s">"@+id/forecast_item_temperature_max"</span>
         <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"wrap_content"</span>
         <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"wrap_content"</span>
         <span class="n">android</span><span class="o">:</span><span class="n">gravity</span><span class="o">=</span><span class="s">"center"</span>
         <span class="n">tools</span><span class="o">:</span><span class="n">text</span><span class="o">=</span><span class="s">"45 &#x2103;"</span> <span class="o">/&gt;</span>

     <span class="o">&lt;</span><span class="n">TextView</span>
         <span class="n">android</span><span class="o">:</span><span class="n">id</span><span class="o">=</span><span class="s">"@+id/forecast_item_temperature_min"</span>
         <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"wrap_content"</span>
         <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"wrap_content"</span>
         <span class="n">android</span><span class="o">:</span><span class="n">gravity</span><span class="o">=</span><span class="s">"center"</span>
         <span class="n">tools</span><span class="o">:</span><span class="n">text</span><span class="o">=</span><span class="s">"10 &#x2103;"</span> <span class="o">/&gt;</span></pre></div><div class="step code-slide" step="26" data-x="26600" data-y="1200" data-z="r0" data-scale="1"><pre class="highlight code java"><span class="o">&lt;!--</span> <span class="o">...</span> <span class="o">--&gt;</span>
       <span class="o">&lt;</span><span class="n">ImageView</span>
           <span class="n">android</span><span class="o">:</span><span class="n">id</span><span class="o">=</span><span class="s">"@+id/forecast_item_image"</span>
           <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"wrap_content"</span>
           <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"wrap_content"</span>
           <span class="n">android</span><span class="o">:</span><span class="n">layout_gravity</span><span class="o">=</span><span class="s">"center"</span>
           <span class="n">android</span><span class="o">:</span><span class="n">contentDescription</span><span class="o">=</span><span class="s">"@null"</span>
           <span class="n">android</span><span class="o">:</span><span class="n">padding</span><span class="o">=</span><span class="s">"10dp"</span>
           <span class="n">tools</span><span class="o">:</span><span class="n">src</span><span class="o">=</span><span class="s">"@android:drawable/star_big_on"</span> <span class="o">/&gt;</span>

       <span class="o">&lt;</span><span class="n">TextView</span>
           <span class="n">android</span><span class="o">:</span><span class="n">id</span><span class="o">=</span><span class="s">"@+id/forecast_item_summary"</span>
           <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"wrap_content"</span>
           <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"wrap_content"</span>
           <span class="n">tools</span><span class="o">:</span><span class="n">text</span><span class="o">=</span><span class="s">"might be weather"</span> <span class="o">/&gt;</span></pre></div><div class="step" step="27" data-x="28000" data-y="1200" data-z="r0" data-scale="1"><img src="images/04-question.png" alt="" width="" height=""></img></div><div class="step code-slide" step="28" data-x="29400" data-y="1200" data-z="r0" data-scale="1"><h1 id="simply-copy-gists-and-change-the-following">simply copy gists and change the following</h1><pre class="highlight code java"><span class="cm">/* Snipped, fill in more data if needed */</span>

<span class="c1">// TODO Read weather description from cursor
</span><span class="n">String</span> <span class="n">description</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">COL_WEATHER_DESC</span><span class="o">);</span>
<span class="n">TextView</span> <span class="n">descriptionText</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span>
        <span class="n">view</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">forecast_item_summary</span><span class="o">);</span>
<span class="n">descriptionText</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">description</span><span class="o">);</span></pre></div><div class="step code-slide" step="29" data-x="30800" data-y="1200" data-z="r0" data-scale="1"><pre class="highlight code java"><span class="o">&lt;</span><span class="n">resources</span>
  <span class="n">xmlns</span><span class="o">:</span><span class="n">xliff</span><span class="o">=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
<span class="o">&gt;</span></pre></div><div class="step" step="30" data-x="32200" data-y="1200" data-z="r0" data-scale="1"><img src="images/05-question.jpg" alt="" width="" height=""></img></div><div class="step code-slide" step="31" data-x="33600" data-y="1200" data-z="r0" data-scale="1"><pre class="highlight code java"><span class="kd">final</span> <span class="kt">int</span> <span class="n">layoutId</span><span class="o">;</span>
<span class="k">if</span> <span class="o">(</span><span class="n">getItemViewType</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getPosition</span><span class="o">())</span>
        <span class="o">==</span> <span class="n">VIEW_TYPE_TODAY</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">layoutId</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">list_item_forecast_today</span><span class="o">;</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    <span class="n">layoutId</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">list_item_forecast</span><span class="o">;</span>
<span class="o">}</span></pre></div><div class="step" step="32" data-x="35000" data-y="1200" data-z="r0" data-scale="1"><img src="images/06-question.jpg" alt="" width="" height=""></img></div><div class="step code-slide" step="33" data-x="36400" data-y="1200" data-z="r0" data-scale="1"><pre class="highlight code java"><span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">ForecastItemHolder</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="n">ImageView</span> <span class="n">iconView</span><span class="o">;</span>
    <span class="kd">public</span> <span class="n">TextView</span> <span class="n">dateText</span><span class="o">;</span>
    <span class="kd">public</span> <span class="n">TextView</span> <span class="n">descriptionText</span><span class="o">;</span>
    <span class="kd">public</span> <span class="n">TextView</span> <span class="n">maxTextView</span><span class="o">;</span>
    <span class="kd">public</span> <span class="n">TextView</span> <span class="n">minTextView</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">ForecastItemHolder</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">iconView</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">view</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">forecast_item_image</span><span class="o">);</span>
        <span class="n">dateText</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">view</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">forecast_item_date</span><span class="o">);</span>
        <span class="n">descriptionText</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">view</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">forecast_item_summary</span><span class="o">);</span>
        <span class="n">maxTextView</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">view</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">forecast_item_temperature_max</span><span class="o">);</span>
        <span class="n">minTextView</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">view</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">forecast_item_temperature_min</span><span class="o">);</span>

        <span class="n">view</span><span class="o">.</span><span class="na">setTag</span><span class="o">(</span><span class="k">this</span><span class="o">);</span> <span class="c1">// hmmm
</span>    <span class="o">}</span>
<span class="o">}</span></pre></div><div class="step code-slide" step="34" data-x="37800" data-y="1200" data-z="r0" data-scale="1"><pre class="highlight code java"><span class="nd">@Override</span>
<span class="kd">public</span> <span class="n">View</span> <span class="nf">newView</span><span class="o">(</span><span class="cm">/* */</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="kt">int</span> <span class="n">layoutId</span><span class="o">;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">getItemViewType</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getPosition</span><span class="o">())</span>
            <span class="o">==</span> <span class="n">VIEW_TYPE_TODAY</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">layoutId</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">list_item_forecast_today</span><span class="o">;</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">layoutId</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">list_item_forecast</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="n">View</span> <span class="n">view</span> <span class="o">=</span> <span class="n">LayoutInflater</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">context</span><span class="o">).</span>
            <span class="n">inflate</span><span class="o">(</span><span class="n">layoutId</span><span class="o">,</span> <span class="n">parent</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
    <span class="k">new</span> <span class="n">ForecastItemHolder</span><span class="o">(</span><span class="n">view</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">view</span><span class="o">;</span>
<span class="o">}</span></pre></div><div class="step code-slide" step="35" data-x="39200" data-y="1200" data-z="r0" data-scale="1"><pre class="highlight code java"><span class="n">ForecastItemHolder</span> <span class="n">itemView</span> <span class="o">=</span>
        <span class="o">(</span><span class="n">ForecastItemHolder</span><span class="o">)</span> <span class="n">view</span><span class="o">.</span><span class="na">getTag</span><span class="o">();</span>

<span class="c1">// TODO Read weather description from cursor
</span><span class="n">String</span> <span class="n">description</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">COL_WEATHER_DESC</span><span class="o">);</span>
<span class="n">itemView</span><span class="o">.</span><span class="na">descriptionText</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">description</span><span class="o">);</span></pre></div><div class="step" step="36" data-x="40600" data-y="1200" data-z="r0" data-scale="1"><img src="images/07-question.jpg" alt="" width="" height=""></img></div><div class="step code-slide" step="37" data-x="42000" data-y="1200" data-z="r0" data-scale="1"><pre class="highlight code java"><span class="c1">// XML:
</span><span class="o">&lt;</span><span class="n">string</span> <span class="n">name</span><span class="o">=</span><span class="s">"format_temperature"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">xliff</span><span class="o">:</span><span class="n">g</span> <span class="n">id</span><span class="o">=</span><span class="s">"temp"</span><span class="o">&gt;%</span><span class="mf">1.0f</span><span class="o">&lt;/</span><span class="n">xliff</span><span class="o">:</span><span class="n">g</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">xliff</span><span class="o">:</span><span class="n">g</span> <span class="n">id</span><span class="o">=</span><span class="s">"unit"</span><span class="o">&gt;</span> <span class="err">\</span><span class="n">u00B0</span><span class="o">%</span><span class="mi">2</span><span class="n">$s</span><span class="o">&lt;/</span><span class="n">xliff</span><span class="o">:</span><span class="n">g</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">string</span><span class="o">&gt;</span>

<span class="c1">// JAVA:
</span><span class="k">return</span> <span class="n">context</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">string</span><span class="o">.</span><span class="na">format_temperature</span><span class="o">,</span>
      <span class="n">temperature</span><span class="o">,</span>
      <span class="n">isMetric</span> <span class="o">?</span> <span class="s">"C"</span> <span class="o">:</span> <span class="s">"F"</span><span class="o">);</span></pre></div><div class="step" step="38" data-x="43400" data-y="1200" data-z="r0" data-scale="1"><img src="images/08-question.jpg" alt="" width="" height=""></img></div><div class="step code-slide" step="39" data-x="44800" data-y="1200" data-z="r0" data-scale="1"><pre class="highlight code java"><span class="o">&lt;</span><span class="n">TextView</span>
    <span class="n">android</span><span class="o">:</span><span class="n">id</span><span class="o">=</span><span class="s">"@+id/detail_item_date"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"wrap_content"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"wrap_content"</span>
    <span class="n">tools</span><span class="o">:</span><span class="n">text</span><span class="o">=</span><span class="s">"tomorrow"</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">TextView</span>
    <span class="n">android</span><span class="o">:</span><span class="n">id</span><span class="o">=</span><span class="s">"@+id/detail_item_temperature_max"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"wrap_content"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"wrap_content"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">gravity</span><span class="o">=</span><span class="s">"center"</span>
    <span class="n">tools</span><span class="o">:</span><span class="n">text</span><span class="o">=</span><span class="s">"45 &#x2103;"</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">TextView</span>
    <span class="n">android</span><span class="o">:</span><span class="n">id</span><span class="o">=</span><span class="s">"@+id/detail_item_temperature_min"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"wrap_content"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"wrap_content"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">gravity</span><span class="o">=</span><span class="s">"center"</span>
    <span class="n">tools</span><span class="o">:</span><span class="n">text</span><span class="o">=</span><span class="s">"10 &#x2103;"</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">TextView</span>
    <span class="n">android</span><span class="o">:</span><span class="n">id</span><span class="o">=</span><span class="s">"@+id/detail_item_humidity"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"wrap_content"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"wrap_content"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">gravity</span><span class="o">=</span><span class="s">"center"</span>
    <span class="n">tools</span><span class="o">:</span><span class="n">text</span><span class="o">=</span><span class="s">"85%"</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">TextView</span>
    <span class="n">android</span><span class="o">:</span><span class="n">id</span><span class="o">=</span><span class="s">"@+id/detail_item_wind"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"wrap_content"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"wrap_content"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">gravity</span><span class="o">=</span><span class="s">"center"</span>
    <span class="n">tools</span><span class="o">:</span><span class="n">text</span><span class="o">=</span><span class="s">"155 km/h NNW"</span> <span class="o">/&gt;</span>

<span class="o">&lt;</span><span class="n">TextView</span>
    <span class="n">android</span><span class="o">:</span><span class="n">id</span><span class="o">=</span><span class="s">"@+id/detail_item_pressure"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"wrap_content"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"wrap_content"</span>
    <span class="n">android</span><span class="o">:</span><span class="n">gravity</span><span class="o">=</span><span class="s">"center"</span>
    <span class="n">tools</span><span class="o">:</span><span class="n">text</span><span class="o">=</span><span class="s">"1014 hPa"</span> <span class="o">/&gt;</span></pre></div><div class="step code-slide" step="40" data-x="46200" data-y="1200" data-z="r0" data-scale="1"><h1 id="oncreate">OnCreate(&#x2026;)</h1><pre class="highlight code java"><span class="n">mTextDate</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="err">&#x2026;</span><span class="o">);</span>
<span class="n">mTextTemperatureMax</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="err">&#x2026;</span><span class="o">);</span>
<span class="n">mTextTemperatureMin</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="err">&#x2026;</span><span class="o">);</span>
<span class="n">mTextImage</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="err">&#x2026;</span><span class="o">);</span>
<span class="n">mTextSummary</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="err">&#x2026;</span><span class="o">);</span>
<span class="n">mTextHumidity</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="err">&#x2026;</span><span class="o">);</span>
<span class="n">mTextWind</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="err">&#x2026;</span><span class="o">);</span>
<span class="n">mTextPressure</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="err">&#x2026;</span><span class="o">);</span></pre></div><div class="step code-slide" step="41" data-x="47600" data-y="1200" data-z="r0" data-scale="1"><pre class="highlight code java"><span class="kd">final</span> <span class="n">String</span><span class="o">[]</span> <span class="n">PROJECTION</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]{</span>
        <span class="n">WeatherEntry</span><span class="o">.</span><span class="na">COLUMN_DATE</span><span class="o">,</span>
        <span class="n">WeatherEntry</span><span class="o">.</span><span class="na">COLUMN_WEATHER_ID</span><span class="o">,</span>
        <span class="n">WeatherEntry</span><span class="o">.</span><span class="na">COLUMN_SHORT_DESC</span><span class="o">,</span>
        <span class="n">WeatherEntry</span><span class="o">.</span><span class="na">COLUMN_MAX_TEMP</span><span class="o">,</span>
        <span class="n">WeatherEntry</span><span class="o">.</span><span class="na">COLUMN_MIN_TEMP</span><span class="o">,</span>
        <span class="n">WeatherEntry</span><span class="o">.</span><span class="na">COLUMN_PRESSURE</span><span class="o">,</span>
        <span class="n">WeatherEntry</span><span class="o">.</span><span class="na">COLUMN_WIND_SPEED</span><span class="o">,</span>
        <span class="n">WeatherEntry</span><span class="o">.</span><span class="na">COLUMN_DEGREES</span><span class="o">,</span>
        <span class="n">WeatherEntry</span><span class="o">.</span><span class="na">COLUMN_HUMIDITY</span><span class="o">,</span>
<span class="o">};</span></pre></div><div class="step code-slide" step="42" data-x="49000" data-y="1200" data-z="r0" data-scale="1"><pre class="highlight code java"><span class="kd">final</span> <span class="kt">int</span> <span class="n">DATE_INDEX</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
<span class="kd">final</span> <span class="kt">int</span> <span class="n">CONDITION_INDEX</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
<span class="kd">final</span> <span class="kt">int</span> <span class="n">SUMMARY_INDEX</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
<span class="kd">final</span> <span class="kt">int</span> <span class="n">TEMPERATURE_MAX_INDEX</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
<span class="kd">final</span> <span class="kt">int</span> <span class="n">TEMPERATURE_MIN_INDEX</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span>
<span class="kd">final</span> <span class="kt">int</span> <span class="n">PRESSURE_INDEX</span> <span class="o">=</span> <span class="mi">5</span><span class="o">;</span>
<span class="kd">final</span> <span class="kt">int</span> <span class="n">WIND_SPEED_INDEX</span> <span class="o">=</span> <span class="mi">6</span><span class="o">;</span>
<span class="kd">final</span> <span class="kt">int</span> <span class="n">WIND_DIRECTION_INDEX</span> <span class="o">=</span> <span class="mi">7</span><span class="o">;</span>
<span class="kd">final</span> <span class="kt">int</span> <span class="n">HUMIDITY_INDEX</span> <span class="o">=</span> <span class="mi">8</span><span class="o">;</span></pre></div><div class="step code-slide" step="43" data-x="50400" data-y="1200" data-z="r0" data-scale="1"><h1 id="onloadfinished">onLoadFinished(&#x2026;)</h1><pre class="highlight code java"><span class="kt">boolean</span> <span class="n">isMetric</span> <span class="o">=</span> <span class="n">Utility</span><span class="o">.</span><span class="na">isMetric</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>

<span class="kt">int</span> <span class="n">condition</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="n">CONDITION_INDEX</span><span class="o">);</span>

<span class="n">mTextDate</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">Utility</span><span class="o">.</span><span class="na">getDayName</span><span class="o">(</span><span class="k">this</span><span class="o">,</span>
        <span class="n">cursor</span><span class="o">.</span><span class="na">getLong</span><span class="o">(</span><span class="n">DATE_INDEX</span><span class="o">)));</span>
<span class="n">mTextSummary</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span>
        <span class="n">SUMMARY_INDEX</span><span class="o">));</span>

<span class="n">mTextTemperatureMax</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">Utility</span><span class="o">.</span><span class="na">formatTemperature</span><span class="o">(</span><span class="err">&#x2026;</span><span class="o">))</span>

<span class="n">mTextPressure</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">Utility</span><span class="o">.</span><span class="na">formatPressure</span><span class="o">(</span><span class="err">&#x2026;</span><span class="o">)));</span>
<span class="n">mTextWind</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">Utility</span><span class="o">.</span><span class="na">getFormattedWind</span><span class="o">(</span><span class="err">&#x2026;</span><span class="o">)));</span>
<span class="n">mTextHumidity</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">Utility</span><span class="o">.</span><span class="na">formatHumidity</span><span class="o">(</span><span class="err">&#x2026;</span><span class="o">)));</span></pre></div><div class="step" step="44" data-x="51800" data-y="1200" data-z="r0" data-scale="1"><img src="images/09-question.jpg" alt="" width="" height=""></img></div><div class="step" step="45" data-x="53200" data-y="1200" data-z="r0" data-scale="1"><img src="images/09-answer.jpg" alt="" width="" height=""></img></div><div class="step" step="46" data-x="54600" data-y="1200" data-z="r0" data-scale="1"><img src="images/10-question.jpg" alt="" width="" height=""></img></div><div class="step code-slide" step="47" data-x="56000" data-y="1200" data-z="r0" data-scale="1"><h1 id="forecastadapter">ForecastAdapter</h1><pre class="highlight code java"><span class="kt">int</span> <span class="n">weatherId</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="n">COL_WEATHER_CONDITION_ID</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">weatherIcon</span><span class="o">;</span>
<span class="k">if</span> <span class="o">(</span><span class="n">getItemViewType</span><span class="o">(</span><span class="n">cursor</span><span class="o">.</span><span class="na">getPosition</span><span class="o">())</span>
        <span class="o">==</span> <span class="n">VIEW_TYPE_TODAY</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">weatherIcon</span> <span class="o">=</span>
        <span class="n">getArtResourceForWeatherCondition</span><span class="o">(</span><span class="n">weatherId</span><span class="o">);</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    <span class="n">weatherIcon</span> <span class="o">=</span>
        <span class="n">getIconResourceForWeatherCondition</span><span class="o">(</span><span class="n">weatherId</span><span class="o">);</span>
<span class="o">}</span>

<span class="n">itemView</span><span class="o">.</span><span class="na">iconView</span><span class="o">.</span><span class="na">setImageResource</span><span class="o">(</span><span class="n">weatherIcon</span><span class="o">);</span></pre></div><div class="step code-slide" step="48" data-x="57400" data-y="1200" data-z="r0" data-scale="1"><h1 id="detailsactivity-fragment">DetailsActivity/Fragment</h1><pre class="highlight code java"><span class="kt">int</span> <span class="n">condition</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="n">WEATHER_CONDITION_ID</span><span class="o">);</span>
<span class="n">mImage</span><span class="o">.</span><span class="na">setImageResource</span><span class="o">(</span>
        <span class="n">getArtResourceForWeatherCondition</span><span class="o">(</span>
                <span class="n">condition</span><span class="o">)</span>
<span class="o">);</span></pre></div><div class="step" step="49" data-x="58800" data-y="1200" data-z="r0" data-scale="1"><img src="images/11-question.jpg" alt="" width="" height=""></img></div><div class="step" step="50" data-x="60200" data-y="1200" data-z="r0" data-scale="1"><ul><li>Increased Complexity</li><li>Harder Intent Handling</li><li>Difficult to read, maintain and test</li><li>Risk of tight coupling</li><li>Some security concerns</li></ul></div><div class="step" step="51" data-x="61600" data-y="1200" data-z="0" data-scale="1"></div><div class="step" step="52" data-y="1950" data-x="61600" data-scale="1"><img src="images/activity_fragment_lifecycle.png" alt="" width="" height="2000px"></img></div><div class="step" step="53" data-y="2700" data-x="61600" data-scale="1"></div><div class="step" step="54" data-x="63000" data-y="1200" data-scale="1"><img src="images/12-question.jpg" alt="" width="" height=""></img></div><div class="step" step="55" data-x="64400" data-y="1200" data-scale="1"><h1 id="answers">Answers</h1><p>Tag was ambigious: <em>fragmentTag</em> or <strong>backstackTag</strong>?</p><ol><li>fm.beginTransaction();</li><li>ft.addToBackStack(<strong>tag</strong>);</li><li>ft.replace(containerID, fragB);</li><li>ft.commit();</li></ol></div><div class="step" step="56" data-x="65800" data-y="1200" data-scale="1"><img src="images/13-question.jpg" alt="" width="" height=""></img></div><div class="step" step="57" data-x="67200" data-y="1200" data-scale="1"><img src="images/13-answer.jpg" alt="" width="" height=""></img></div><div class="step" step="58" data-x="68600" data-y="1200" data-scale="1"><img src="images/14-question.jpg" alt="" width="" height=""></img></div><div class="step code-slide" step="59" data-x="70000" data-y="1200" data-scale="1"><h1 id="activity-main-tablet"><a href="mailto:activity_main@tablet">activity_main@tablet</a></h1><pre class="highlight code java"><span class="o">&lt;</span><span class="n">LinearLayout</span><span class="o">&gt;</span>

  <span class="o">&lt;</span><span class="n">fragment</span>
      <span class="n">android</span><span class="o">:</span><span class="n">id</span><span class="o">=</span><span class="s">"@+id/fragment_forecast"</span>
      <span class="n">android</span><span class="o">:</span><span class="n">name</span><span class="o">=</span><span class="s">"{&#x2026;}.ForecastFragment"</span>
      <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"0dp"</span>
      <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"match_parent"</span>
      <span class="n">android</span><span class="o">:</span><span class="n">layout_weight</span><span class="o">=</span><span class="s">"2"</span>
      <span class="n">tools</span><span class="o">:</span><span class="n">layout</span><span class="o">=</span><span class="s">"@android:layout/list_content"</span> <span class="o">/&gt;</span>

  <span class="o">&lt;</span><span class="n">FrameLayout</span>
      <span class="n">android</span><span class="o">:</span><span class="n">id</span><span class="o">=</span><span class="s">"@+id/weather_detail_container"</span>
      <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"0dp"</span>
      <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"match_parent"</span>
      <span class="n">android</span><span class="o">:</span><span class="n">layout_weight</span><span class="o">=</span><span class="s">"4"</span> <span class="o">/&gt;</span>

<span class="o">&lt;/</span><span class="n">LinearLayout</span><span class="o">&gt;</span><span class="n">a</span></pre></div><div class="step" step="60" data-x="69780" data-y="1550" data-scale=".05"></div><div class="step" step="61" data-scale="1" data-x="70000" data-y="1200"></div><div class="step code-slide" step="62" data-x="71400" data-y="1200" data-scale="1"><h1 id="activity-main-phone"><a href="mailto:activity_main@phone">activity_main@phone</a></h1><h2 id="framelayout-instead-of-fragment-due-to-arguments-needed">framelayout instead of fragment due to arguments needed</h2><pre class="highlight code java"><span class="o">&lt;</span><span class="n">FrameLayout</span>
  <span class="n">xmlns</span><span class="o">:</span><span class="n">android</span><span class="o">=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
  <span class="n">xmlns</span><span class="o">:</span><span class="n">tools</span><span class="o">=</span><span class="s">"http://schemas.android.com/tools"</span>
  <span class="n">android</span><span class="o">:</span><span class="n">id</span><span class="o">=</span><span class="s">"@+id/weather_detail_container"</span>
  <span class="n">android</span><span class="o">:</span><span class="n">layout_width</span><span class="o">=</span><span class="s">"match_parent"</span>
  <span class="n">android</span><span class="o">:</span><span class="n">layout_height</span><span class="o">=</span><span class="s">"match_parent"</span>
  <span class="n">tools</span><span class="o">:</span><span class="n">layout</span><span class="o">=</span><span class="s">"@layout/fragment_detail"</span>
  <span class="o">/&gt;</span></pre></div><div class="step code-slide" step="63" data-x="72800" data-y="1200" data-scale="1"><h1 id="mainactivity-java">MainActivity.java</h1><pre class="highlight code java"><span class="nd">@Override</span>
<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">container</span><span class="o">)</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">savedInstanceState</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
          <span class="n">Fragment</span> <span class="n">fragment</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DetailFragment</span><span class="o">();</span>
          <span class="n">getSupportFragmentManager</span><span class="o">()</span>
                 <span class="o">.</span><span class="na">beginTransaction</span><span class="o">()</span>
                 <span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">container</span><span class="o">,</span> <span class="n">fragment</span><span class="o">)</span>
                 <span class="o">.</span><span class="na">commit</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span></pre></div><div class="step" step="64" data-x="74200" data-y="1200" data-scale="1"><img src="images/15-question.jpg" alt="" width="" height=""></img></div><div class="step code-slide" step="65" data-x="75600" data-y="1200" data-scale="1"><h1 id="forecastfragment-java">ForecastFragment.java</h1><pre class="highlight code java"><span class="kd">public</span> <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">ForecastCallback</span> <span class="o">{</span>
    <span class="kt">void</span> <span class="nf">onForecastItemClicked</span><span class="o">(</span><span class="n">Cursor</span> <span class="n">cursor</span><span class="o">);</span>
<span class="o">}</span></pre></div><div class="step code-slide" step="66" data-x="77000" data-y="1200" data-scale="1"><pre class="highlight code java"><span class="k">new</span> <span class="n">OnItemClickListener</span><span class="o">()</span> <span class="o">{</span>
 <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onItemClick</span><span class="o">(</span><span class="err">&#x2026;</span><span class="o">)</span> <span class="o">{</span>
   <span class="k">if</span> <span class="o">(</span><span class="n">getActivity</span><span class="o">()</span> <span class="k">instanceof</span> <span class="n">ForecastCallback</span><span class="o">)</span> <span class="o">{</span>
     <span class="kd">final</span> <span class="n">Cursor</span> <span class="n">cursor</span> <span class="o">=</span>
       <span class="o">(</span><span class="n">Cursor</span><span class="o">)</span> <span class="n">mForecastAdapter</span><span class="o">.</span><span class="na">getItem</span><span class="o">(</span><span class="n">position</span><span class="o">);</span>
       <span class="o">((</span><span class="n">ForecastCallback</span><span class="o">)</span> <span class="n">getActivity</span><span class="o">())</span>
         <span class="o">.</span><span class="na">onForecastItemClicked</span><span class="o">(</span><span class="n">cursor</span><span class="o">);</span>
     <span class="o">}</span>
   <span class="o">}</span>
<span class="o">}</span></pre></div><div class="step code-slide" step="67" data-x="78400" data-y="1200" data-scale="1"><h1 id="id1">MainActivity.java</h1><pre class="highlight code java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span>
  <span class="kd">extends</span> <span class="n">ActionBarActivity</span>
  <span class="kd">implements</span> <span class="n">ForecastCallback</span> <span class="o">{</span>

  <span class="c1">// &#x2026;
</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onForecastItemClicked</span><span class="o">(</span><span class="n">Cursor</span> <span class="n">cursor</span><span class="o">)</span> <span class="o">{</span>
      <span class="kd">final</span> <span class="n">Uri</span> <span class="n">uri</span> <span class="o">=</span> <span class="n">getCurrentSelectedItemUri</span><span class="o">(</span><span class="n">cursor</span><span class="o">);</span>

      <span class="k">if</span> <span class="o">(</span><span class="n">isInTwoPanelMode</span><span class="o">())</span> <span class="o">{</span>
          <span class="n">replaceDetailFragment</span><span class="o">(</span><span class="n">uri</span><span class="o">);</span>
      <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
          <span class="n">startDetailsActivity</span><span class="o">(</span><span class="n">uri</span><span class="o">);</span>
      <span class="o">}</span>
  <span class="o">}</span>
  <span class="o">}</span></pre></div><div class="step code-slide" step="68" data-x="79800" data-y="1200" data-scale="1"><pre class="highlight code java"><span class="kd">private</span> <span class="kt">void</span> <span class="nf">replaceDetailFragment</span><span class="o">(</span><span class="n">Uri</span> <span class="n">uri</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">DetailFragment</span> <span class="n">fragment</span> <span class="o">=</span>
            <span class="n">DetailFragment</span><span class="o">.</span><span class="na">instanciate</span><span class="o">(</span><span class="n">uri</span><span class="o">);</span>
    <span class="n">getSupportFragmentManager</span><span class="o">()</span>
            <span class="o">.</span><span class="na">beginTransaction</span><span class="o">()</span>
            <span class="o">.</span><span class="na">addToBackStack</span><span class="o">(</span><span class="n">DetailFragment</span><span class="o">.</span><span class="na">TAG</span><span class="o">)</span>
            <span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">weather_detail_container</span><span class="o">,</span>
                    <span class="n">fragment</span><span class="o">,</span>
                    <span class="n">DetailFragment</span><span class="o">.</span><span class="na">TAG</span><span class="o">)</span>
            <span class="o">.</span><span class="na">commit</span><span class="o">();</span>
<span class="o">}</span></pre></div><div class="step code-slide" step="69" data-x="81200" data-y="1200" data-scale="1"><pre class="highlight code java"><span class="kd">private</span> <span class="kt">void</span> <span class="nf">startDetailsActivity</span><span class="o">(</span><span class="n">Uri</span> <span class="n">uri</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="n">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span>
            <span class="n">getApplicationContext</span><span class="o">(),</span>
            <span class="n">DetailActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="n">intent</span><span class="o">.</span><span class="na">setData</span><span class="o">(</span><span class="n">uri</span><span class="o">);</span>
    <span class="n">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
<span class="o">}</span></pre></div><div class="step" step="70" data-x="82600" data-y="1200" data-scale="1"><img src="images/16-question.jpg" alt="" width="" height=""></img></div><div class="step code-slide" step="71" data-x="84000" data-y="1200" data-scale="1"><h1 id="values-styles-xml">values/styles.xml</h1><pre class="highlight code java"><span class="o">&lt;</span><span class="n">resources</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">style</span> <span class="n">name</span><span class="o">=</span><span class="s">"sunshine_list_style"</span> <span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">resources</span><span class="o">&gt;</span></pre></div><div class="step code-slide" step="72" data-x="85400" data-y="1200" data-scale="1"><h1 id="values-land-styles-xml">values-land/styles.xml</h1><pre class="highlight code java"><span class="o">&lt;</span><span class="n">resources</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">style</span> <span class="n">name</span><span class="o">=</span><span class="s">"sunshine_list_style"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">item</span> <span class="n">name</span><span class="o">=</span><span class="s">"android:choiceMode"</span><span class="o">&gt;</span><span class="n">singleChoice</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">item</span> <span class="n">name</span><span class="o">=</span><span class="s">"android:background"</span><span class="o">&gt;</span><span class="err">#</span><span class="n">FFFF0000</span><span class="o">&lt;/</span><span class="n">item</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">resources</span><span class="o">&gt;</span></pre></div><div class="step code-slide" step="73" data-x="86800" data-y="1200" data-scale="1"><h1 id="layout-fragment-main-xml">layout/fragment_main.xml</h1><pre class="highlight code java"> <span class="o">&lt;</span><span class="n">FrameLayout</span> <span class="err">&#x2026;</span> <span class="o">&gt;</span>

  <span class="o">&lt;</span><span class="n">ListView</span>
      <span class="n">android</span><span class="o">:</span><span class="n">id</span><span class="o">=</span><span class="s">"@+id/forecast_list_view"</span>
      <span class="err">&#x2026;</span>
      <span class="n">style</span><span class="o">=</span><span class="s">"@style/sunshine_list_style"</span>
      <span class="o">/&gt;</span>

<span class="o">&lt;/</span><span class="n">FrameLayout</span><span class="o">&gt;</span></pre></div><div class="step" step="74" data-x="88200" data-y="1200" data-scale="1"><img src="images/17-question.jpg" alt="" width="" height=""></img></div><div class="step code-slide" step="75" data-x="89600" data-y="1200" data-scale="1"><h1 id="onsaveinstancestate">onSaveInstanceState()</h1><h2 id="forecastfragment">@ForecastFragment</h2><pre class="highlight code java"><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSaveInstanceState</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">outState</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">outState</span><span class="o">.</span><span class="na">putInt</span><span class="o">(</span>
            <span class="n">LAST_KNOWN_POSITION</span><span class="o">,</span>
            <span class="n">mLastKnownPosition</span><span class="o">);</span>

    <span class="kd">super</span><span class="o">.</span><span class="na">onSaveInstanceState</span><span class="o">(</span><span class="n">outState</span><span class="o">);</span>
<span class="o">}</span></pre></div><div class="step code-slide" step="76" data-x="91000" data-y="1200" data-scale="1"><h1 id="oncreateview">onCreateView()</h1><h2 id="id2">@ForecastFragment.java</h2><pre class="highlight code java"><span class="k">if</span> <span class="o">(</span><span class="n">savedInstanceState</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">)</span> <span class="o">{</span>
    <span class="n">mLastKnownPosition</span> <span class="o">=</span>
        <span class="n">savedInstanceState</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span>
           <span class="n">LAST_KNOWN_POSITION</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">);</span>
<span class="o">}</span>

<span class="k">if</span> <span class="o">(</span><span class="n">mLastKnownPosition</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">mListView</span><span class="o">.</span><span class="na">smoothScrollToPosition</span><span class="o">(</span>
        <span class="n">mLastKnownPosition</span><span class="o">);</span>
<span class="o">}</span></pre></div><div class="step" step="77" data-x="92400" data-y="1200" data-scale="1"><img src="images/18-question.jpg" alt="" width="" height=""></img></div><div class="step" step="78" data-x="93800" data-y="1200" data-scale="1"><img src="images/18-answer.jpg" alt="" width="" height=""></img></div><div class="step" step="79" data-x="95200" data-y="1200" data-scale="1"><img src="images/19-question.jpg" alt="" width="" height=""></img></div><div class="step" step="80" data-x="96600" data-y="1200" data-scale="1"><h1 id="skipping-to-not-limit-your-creativity">Skipping, to not limit your creativity ...</h1></div><div class="step" step="81" data-x="98000" data-y="1200" data-scale="1"><img src="images/20-question.jpg" alt="" width="" height=""></img></div><div class="step code-slide" step="82" data-x="99400" data-y="1200" data-scale="1"><h1 id="quiz">Quiz</h1><h1 id="what-does-this-do">What does this do?</h1><pre class="highlight code java"><span class="n">mForecastAdapter</span>
  <span class="o">.</span><span class="na">setShouldHighlightTodayItem</span><span class="o">(</span>
    <span class="n">getResources</span><span class="o">()</span>
      <span class="o">.</span><span class="na">getBoolean</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">bool</span><span class="o">.</span><span class="na">highlight_today</span><span class="o">)</span>
  <span class="o">);</span></pre></div><div class="step" step="83" data-x="100800" data-y="1200" data-scale="1"><h1 id="answer">Answer</h1><p>Using different value-* folders for boolean</p><pre class="highlight code java"><span class="o">&lt;?</span><span class="n">xml</span> <span class="n">version</span><span class="o">=</span><span class="s">"1.0"</span> <span class="n">encoding</span><span class="o">=</span><span class="s">"utf-8"</span><span class="o">?&gt;</span>
<span class="o">&lt;</span><span class="n">resources</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">bool</span> <span class="n">name</span><span class="o">=</span><span class="s">"highlight_today"</span><span class="o">&gt;</span><span class="kc">false</span><span class="o">&lt;/</span><span class="n">bool</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">resources</span><span class="o">&gt;</span></pre></div><div class="step" step="84" data-x="102200" data-y="1200" data-scale="1"><img src="images/21-question.png" alt="" width="" height=""></img></div><div class="step" step="85" data-x="103600" data-y="1200" data-scale="1"><h1 id="some-copy-paste-later">Some copy paste later &#x2026;</h1><img src="images/device-redline.png" alt="" width="1000px" height=""></img></div><div class="step" step="86" data-x="105000" data-y="1200" data-scale="1"><img src="images/22-question.jpg" alt="" width="" height=""></img></div><div class="step" step="87" data-x="106400" data-y="1200" data-scale="1"><img src="images/23-question.jpg" alt="" width="" height=""></img></div><div class="step" step="88" data-x="107800" data-y="1200" data-scale="1"><img src="images/24-question.jpg" alt="" width="" height=""></img></div><div class="step" step="89" data-x="109200" data-y="1200" data-scale="1"><img src="images/25-question.jpg" alt="" width="" height=""></img></div><div class="step" step="90" data-x="110600" data-y="1200" data-scale="1"><img src="images/26-question.jpg" alt="" width="" height=""></img></div><div class="step" step="91" data-x="112000" data-y="1200" data-scale="1"><img src="images/26-answer.png" alt="" width="" height=""></img></div><div class="step" step="92" data-x="113400" data-y="1200" data-scale="1"><img src="images/27-question.jpg" alt="" width="" height=""></img></div><div class="step" step="93" data-x="114800" data-y="1200" data-scale="1"><h1 id="done-creating-my-view">Done creating my view ...</h1></div><div class="step" step="94" data-x="114800" data-y="1200" data-z="3000" data-rotate-x="30" data-rotate-y="75" data-rotate-z="30" data-scale="1"><h1 id="done"><strong>Done.</strong></h1><h2 id="questions">Questions???</h2></div></div><div id="hovercraft-help"><table><tr><th>Space</th><td>Forward</td></tr><tr><th>Left, Down, Page Down</th><td>Next slide</td></tr><tr><th>Right, Up, Page Up</th><td>Previous slide</td></tr><tr><th>P</th><td>Open presenter console</td></tr><tr><th>H</th><td>Toggle this help</td></tr></table></div><script type="text/javascript" src="js/impress.js"></script><script type="text/javascript" src="js/impressConsole.js"></script><script type="text/javascript" src="js/hovercraft.js"></script></body></html>